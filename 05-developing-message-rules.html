
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="AWS to Slack message relay">
      
      
        <meta name="author" content="Murray Andrews">
      
      
      
        <link rel="prev" href="04-installation-and-usage.html">
      
      
        <link rel="next" href="06-rule-library.html">
      
      
        
      
      
      <link rel="icon" href="img/slacker-icon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Developing Message Rules - Slacker User Guide</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="css/extra.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#developing-and-testing-message-rules" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Slacker User Guide" class="md-header__button md-logo" aria-label="Slacker User Guide" data-md-component="logo">
      
  <img src="img/slacker-icon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Slacker User Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Developing Message Rules
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        

<a href="https://github.com/jin-gizmo/slacker" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Slacker on GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Slacker User Guide" class="md-nav__button md-logo" aria-label="Slacker User Guide" data-md-component="logo">
      
  <img src="img/slacker-icon.png" alt="logo">

    </a>
    Slacker User Guide
  </label>
  
    <div class="md-nav__source">
      

<a href="https://github.com/jin-gizmo/slacker" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Slacker on GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="01-overview.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="02-how-it-works.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    How it Works
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="03-examples.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="04-installation-and-usage.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation and Usage
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Developing Message Rules
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="05-developing-message-rules.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Developing Message Rules
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#developing-rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Developing Rules
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Testing Rules
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploying-rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deploying Rules
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validating-webhook-entries" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validating Webhook Entries
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="06-rule-library.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rule Library
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="07-release-notes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Release Notes
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#developing-rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Developing Rules
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Testing Rules
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploying-rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deploying Rules
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validating-webhook-entries" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validating Webhook Entries
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="developing-and-testing-message-rules" x-nav="Developing Message Rules">Developing and Testing Message Rules<a class="headerlink" href="#developing-and-testing-message-rules" title="Permanent link">&para;</a></h1>
<h2 id="developing-rules">Developing Rules<a class="headerlink" href="#developing-rules" title="Permanent link">&para;</a></h2>
<div class="admonition tip">
<p class="admonition-title">Tips</p>
<ol>
<li>
<p>When developing rules to handle a particular message type, the first
    step is to obtain real samples of the message. A good way to do this is
    to let slacker capture some initial events without any transformation.
    These are handy for developing and testing rules.</p>
</li>
<li>
<p>With careful use of the <a href="02-how-it-works.html#the-wildcard-webhook">wildcard webhook</a>, the
    need to create new webhooks and rules can be minimised.</p>
</li>
</ol>
</div>
<p>The recommended approach to developing rules is to write the <a href="02-how-it-works.html#the-webhooks-table">webhooks
table</a> entries in YAML, under version control, and then
test and deploy them with the <a href="04-installation-and-usage.html#the-slacker-cli">slacker CLI</a>.</p>
<p>The webhook entry file can either be an existing entry that has been extracted
from DynamoDB using <code>slacker get</code>, and then modified, or one created from
scratch.</p>
<p>JSON schema definitions are provided for <a href="02-how-it-works.html#the-webhooks-table">webhooks</a> and
<a href="02-how-it-works.html#the-channels-table">channels</a> entries. This can make creating entries a lot
easier in IDEs that support these (like the JetBrains suite), particularly for
webhooks.</p>
<p>The definitions are available at:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Latest</label><label for="__tabbed_1_2">Versioned</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1">https://jin-gizmo.github.io/slacker/schemas/latest/channel.schema.yaml
</span><span id="__span-0-2">https://jin-gizmo.github.io/slacker/schemas/latest/webhook.schema.yaml
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1">https://jin-gizmo.github.io/slacker/schemas/v2/channel.schema.yaml
</span><span id="__span-1-2">https://jin-gizmo.github.io/slacker/schemas/v2/webhook.schema.yaml
</span></code></pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>JSON formatted versions of the schemas are also available. Just replace
<code>.yaml</code> with <code>.json</code>.</p>
</div>
<p>These schemas are referenced in the entries like so:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-2-1"><span class="nt">$schema</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://jin-gizmo.github.io/slacker/schemas/latest/webhook.schema.yaml</span>
</span></code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The slacker Lambda itself does not use the JSON schema for validation. It
will do its best to work with an entry with minimal judgement. The <code>test</code>
and <code>check</code> subcommands on the slacker CLI do perform schema validation.</p>
</div>
<h2 id="testing-rules">Testing Rules<a class="headerlink" href="#testing-rules" title="Permanent link">&para;</a></h2>
<p>The <a href="04-installation-and-usage.html#the-slacker-cli">slacker CLI</a> provides the <code>test</code> subcommand that
facilitates the process of experimenting with rules and messages to see how they
will be treated. Usage is:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1">slacker<span class="w"> </span><span class="nb">test</span><span class="w"> </span>webhook-entry.yaml<span class="w"> </span>&lt;<span class="w"> </span>message.txt
</span><span id="__span-3-2"><span class="c1"># ... or ...</span>
</span><span id="__span-3-3">slacker<span class="w"> </span><span class="nb">test</span><span class="w"> </span>webhook-entry.yaml<span class="w"> </span>&lt;<span class="w"> </span>message.json
</span></code></pre></div>
<p>This will apply <em>almost</em> exactly the same processing to the test message as the
slacker Lambda will, showing the resulting message that will be sent, if any.
Additionally, full schema validation of the webhook entry will be performed.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The <code>slacker test</code> command does not automatically apply the
<a href="02-how-it-works.html#the-wildcard-webhook">wildcard webhook</a> when testing rules. It applies
only the webhook contents specified in the file argument. Test separately
against the <a href="02-how-it-works.html#the-wildcard-webhook">wildcard webhook</a> as required.</p>
</div>
<p>The message file will contain <em>the actual message text that is sent</em> (which
slacker will decode as JSON if it can).</p>
<p>For messages arriving via SNS, this does not include all of the delivery
wrapping in which SNS embeds the message.  The <code>slacker test</code> subcommand
requires the value of the <code>message</code> key from the SNS message, not the whole
envelope.  The <code>message</code> field may be either a text message or an object if
slacker has decoded a JSON blob.</p>
<h2 id="deploying-rules">Deploying Rules<a class="headerlink" href="#deploying-rules" title="Permanent link">&para;</a></h2>
<p>The <a href="04-installation-and-usage.html#the-slacker-cli">slacker CLI</a> provides the <code>put</code> subcommand that deploys
webhook entries to the <a href="02-how-it-works.html#the-webhooks-table">webhooks table</a>. The following
checks are made prior to upload:</p>
<ul>
<li>The AWS account number in the entry must match the target environment.</li>
<li>A full schema verification of the webhook contents will be done.</li>
</ul>
<p>Usage is:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1">slacker<span class="w"> </span>put<span class="w"> </span>webhook-entry.yaml
</span><span id="__span-4-2">
</span><span id="__span-4-3"><span class="c1"># To keep a backup of the previous entry...</span>
</span><span id="__span-4-4">slacker<span class="w"> </span>put<span class="w"> </span>--backup<span class="w"> </span>webhook-entry-orig.yaml<span class="w"> </span>webhook-entry.yaml
</span></code></pre></div>
<div class="admonition note">
<p class="admonition-title">Notes</p>
<ol>
<li>The slacker Lambda caches webhook entries for 5 minutes. By default,
    <code>slacker put</code> will restart the slacker Lambda to flush the webhook
    cache. If multiple webhooks are being deployed, use <code>slacker put
    --no-restart</code>, followed by a <code>slacker restart</code> once deployments are
    done.</li>
<li>The DynamoDB tables have point-in-time recovery enabled, just in case.</li>
</ol>
</div>
<h2 id="validating-webhook-entries">Validating Webhook Entries<a class="headerlink" href="#validating-webhook-entries" title="Permanent link">&para;</a></h2>
<p>The <a href="04-installation-and-usage.html#the-slacker-cli">slacker CLI</a> is the primary tool for managing slacker
table entries. It has a <code>check</code> subcommand that will perform a basic suite of
configuration hygiene checks, looking for problems such as:</p>
<ul>
<li>Schema violations</li>
<li>Webhooks that have odd combinations of <code>url</code> and <code>channel</code> keys</li>
<li>Webhooks that reference channels that don't exist</li>
<li>Webhooks with a <code>sourceId</code> that points to a resource that either doesn't
    exist or isn't configured to send messages to slacker</li>
<li>Unknown <code>sourceId</code> types</li>
<li>SNS subscriptions to the slacker Lambda where either the SNS topic doesn't
    exist or the corresponding webhook doesn't exist.</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1">slacker<span class="w"> </span>check
</span></code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; Origin Energy 2025
    </div>
  
</div>
      <div class="md-footer-social">
        <div class="md-copyright">
          <div class="md-copyright__highlight">
            v2.7.0
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": ".", "features": ["navigation.instant", "content.code.copy", {"icon": {"repo": "material/github"}}], "search": "assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>